var Zones = function(){
    var $ = jQuery.noConflict();
    return{
        init:function(){
            var style = {
                fill: "#ddd",
                stroke:"none",
                opacity:"0",
                cursor: "-webkit-zoom-in"
            };

            var animationSpeed = 100;
            var hoverStyle = {
                fill: "#00FF00",
                opacity:".1"
            };

            var MAP_WIDTH  = 960;
            var MAP_HEIGHT = 540;

            var mapContainer = document.getElementById("allZonesContainer");
            var map = new Raphael(mapContainer, MAP_WIDTH, MAP_HEIGHT);

            var regions = {};
            regions["1"] = map.path("M 527.611,386.846 494.302,369.994 460.989,391.549 460.989,515 489.598,515 527.611,515 564.453,511.865 599.333,506.77 641.269,498.148 680.459,487.957 708.285,478.161 635.78,383.318 602.469,367.642 593.454,372.736 581.697,367.642 573.467,373.912 564.061,371.952 555.049,373.128 543.29,377.831 z");

            regions["2"] = map.path("M 457.461,515 426.11,512.647 403.378,510.297 370.065,505.201 342.24,499.715 312.455,492.661 286.197,485.214 266.209,478.553 247.397,471.107 247.397,444.848 332.833,375.479 349.293,382.141 353.605,379.398 382.606,390.371 405.729,390.371 428.46,398.995 436.298,394.684 459.028,403.306 z");
            regions["3"] = map.path("M 330.874,374.108 245.242,443.672 245.242,470.125 207.814,451.51 173.13,428.781 149.42,409.576 128.844,386.062 116.303,367.446 107.485,348.046 263.465,327.08 268.561,333.35 275.615,340.013 284.825,348.046 296.974,356.668 312.258,364.507 z");
            regions["4"] = map.path("M 262.485,325.608 117.871,344.126 107.094,345.891 102.292,331.781 99.059,309.441 99.059,266.234 103.468,248.597 114.637,222.732 124.631,206.859 133.743,196.572 262.485,223.32 262.485,246.541 254.549,258.298 249.847,268.879 245.732,277.404 243.968,287.984 246.613,297.392 250.141,305.326 256.901,318.26 z");
            regions["5"] = map.path("M 135.311,194.81 141.973,187.364 151.575,178.153 160.981,169.923 275.026,208.918 275.026,234 264.445,245.17 263.662,221.263 z");
            regions["6"] = map.path("M 162.941,168.16 176.462,157.97 189.59,149.348 202.72,141.509 217.417,133.671 238.188,124.07 252.884,117.799 272.872,109.961 301.285,100.555 315.394,97.224 362.619,161.888 362.619,186.775 347.727,191.282 333.617,196.572 318.137,204.607 306.184,211.074 294.623,218.52 283.454,227.339 276.791,232.825 276.987,207.546 z");
            regions["7"] = map.path("M 366.244,186.186 378.589,181.875 401.223,176.585 429.733,172.176 467.357,168.942 506.744,169.236 541.429,171.881 577.288,178.349 578.169,153.363 601.685,84.877 581.403,81.938 581.403,57.541 562.885,55.778 561.122,49.9 537.901,46.666 537.901,51.368 527.024,51.368 522.323,56.954 522.323,77.235 512.328,76.354 512.328,70.181 483.818,56.954 481.172,56.954 455.6,71.65 455.6,75.471 444.725,75.471 424.738,77.823 399.165,81.056 377.708,83.996 359.484,86.641 341.089,90.168 317.892,96.047 364.285,161.79 364.285,186.186 z");
            regions["8"] = map.path("M 579.934,153.657 603.448,85.171 619.614,87.229 624.611,76.354 628.726,72.238 622.259,63.42 641.071,46.666 663.117,68.124 682.811,57.836 689.276,57.541 697.505,64.302 700.739,72.532 700.739,78.705 696.037,82.82 698.094,86.347 699.271,91.638 703.68,93.108 705.148,111.332 710.439,113.095 716.906,112.213 724.843,113.683 731.896,118.385 733.954,122.795 739.833,126.028 741.597,112.213 746.007,107.804 753.941,106.041 761.584,107.216 768.933,110.743 770.696,121.619 770.696,136.903 794.799,155.127 695.156,206.565 695.449,231.551 678.4,218.911 656.943,205.684 633.723,195.102 610.208,186.186 588.752,180.994 579.934,178.349 z");
            regions["9"] = map.path("M 697.115,233.215 697.115,208.329 796.27,158.164 796.27,146.799 799.991,144.448 804.499,144.448 808.026,148.955 861.72,191.673 860.737,228.121 866.813,239.683 893.267,239.683 893.267,254.379 872.299,254.379 874.26,267.508 874.848,291.022 872.889,323.943 869.752,337.855 729.449,292.004 725.726,273.583 717.299,256.731 707.697,244.385 z");
            regions["10"] = map.path("M 838.888,369.698 714.849,321.787 720.728,312.969 726.019,302.389 728.958,293.865 861.814,337.855 869.458,340.012 865.048,352.651 859.17,365.584 852.409,376.166 z");
            regions["11"] = map.path("M 636.074,377.929 653.71,369.698 671.641,359.705 691.041,346.478 703.387,335.015 714.849,323.257 838.302,371.462 851.821,377.929 842.121,391.155 830.658,404.09 817.431,415.846 805.381,426.133 792.153,435.833 774.517,447.003 758.938,456.115 743.947,463.464 731.015,469.342 710.439,477.572 z");

            for(var regionName in regions) {
                var region = regions[regionName];
                region.attr(style).data('scene', regionName).click(function () {
                    EventBus.dispatchEvent("SCENE_BUTTON_CLICKED", this.data("scene"));
                });
            }

            for(var regionName in regions) {
                (function (region) {
                    region.attr(style);

                    region[0].addEventListener("mouseover", function() {
                        region.animate(hoverStyle, animationSpeed);
                    }, true);

                    region[0].addEventListener("mouseout", function() {
                        region.animate(style, animationSpeed);
                    }, true);
                })(regions[regionName]);
            }
        }
    }
}
